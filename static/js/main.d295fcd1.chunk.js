(this["webpackJsonptodo-coil"]=this["webpackJsonptodo-coil"]||[]).push([[0],{31:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var c,r,a,o,i,s,u,b,j,l,d,O,g=n(0),f=n.n(g),x=n(14),p=n.n(x),h=n(7),m=n(8),v=n(10),y=(n(31),n(5)),w=n(3),C="categories",k=localStorage.getItem(C),S=k?JSON.parse(k):["Todo","Doing","Done"],L=Object(h.b)({key:"categories",default:S}),N=Object(h.c)({key:"persistentCategories",get:function(e){return(0,e.get)(L)},set:function(e,t){(0,e.set)(L,t),localStorage.setItem(C,JSON.stringify(t))}}),A="todo",T=localStorage.getItem(A),I=T?JSON.parse(T):[],J=Object(h.b)({key:"todos",default:I}),F=Object(h.c)({key:"persistentTodos",get:function(e){return(0,e.get)(J)},set:function(e,t){(0,e.set)(J,t),localStorage.setItem(A,JSON.stringify(t))}}),B=Object(h.b)({key:"todoFilter",default:"ALL"}),D=Object(h.c)({key:"todoFiltered",get:function(e){var t=e.get,n=t(J),c=t(B);return"ALL"===c?n:n.filter((function(e){return e.category===c}))}}),E=n(6),_=n(18),q=n(2),V=m.c.form(c||(c=Object(v.a)(["\n  display: flex;\n"]))),M=m.c.input(r||(r=Object(v.a)(["\n  flex-grow: 1;\n"]))),W=function(){var e=Object(h.f)(F),t=Object(h.e)(N),n=Object(h.e)(B),c=t[0],r="ALL"===n?c:n,a=Object(_.a)(),o=a.register,i=a.handleSubmit,s=a.setValue;return Object(q.jsxs)(V,{onSubmit:i((function(t){var n=t.todo;e((function(e){return[].concat(Object(E.a)(e),[{id:Date.now(),text:n,category:r}])})),s("todo","")})),children:[Object(q.jsx)(M,Object(y.a)(Object(y.a)({},o("todo",{required:"Todo is empty"})),{},{placeholder:"Write a Todo"})),Object(q.jsx)("button",{children:"Add"})]})},z=n(4),G=n.n(z),H=n(9),K=m.c.form(a||(a=Object(v.a)(["\n  input {\n    width: 100%;\n    border: 0;\n  }\n"]))),P=function(e){var t,n=e.onSubmit,c=Object(_.a)({mode:"onChange"}),r=c.register,a=c.handleSubmit,o=c.reset,i=c.setError,s=c.formState.errors,u=function(){var e=Object(H.a)(G.a.mark((function e(t){var c;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.newCategoryName,e.prev=1,e.next=4,n(c);case 4:o(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),i("newCategoryName",{message:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(K,{onSubmit:a(u),children:Object(q.jsx)("input",Object(y.a)({},r("newCategoryName",{required:"The field is empty",pattern:{value:/[^_].*/,message:"Category name can't be started with _"}})))}),(null===s||void 0===s||null===(t=s.newCategoryName)||void 0===t?void 0:t.message)&&Object(q.jsx)("span",{children:s.newCategoryName.message})]})},Q=m.c.li(o||(o=Object(v.a)(["\n  background-color: ",";\n  margin: 10px 0;\n  display: flex;\n"])),(function(e){return e.theme.secondBgColor})),R=m.c.span(i||(i=Object(v.a)(["\n  flex-grow: 1;\n  margin-left: 6px;\n"]))),U=m.c.button(s||(s=Object(v.a)(["\n  border: 0;\n  border-radius: 5px;\n  background-color: transparent;\n  padding: 2px 3px;\n\n  &:hover {\n    background-color: rgba(0, 255, 0, 0.5);\n  }\n"]))),X=m.c.div(u||(u=Object(v.a)(["\n  width: 80px;\n  & > * {\n    width: 100%;\n    border: 0;\n  }\n"]))),Y=function(e){var t=Object(h.d)(F),n=Object(w.a)(t,2),c=n[0],r=n[1],a=Object(h.d)(N),o=Object(w.a)(a,2),i=o[0],s=o[1],u=Object(g.useState)(!1),b=Object(w.a)(u,2),j=b[0],l=b[1],d=e.category,O=e.text,f=e.id,x=c.findIndex((function(e){return e.id===f})),p="_new",m=function(t){var n=Object(y.a)(Object(y.a)({},e),{},{category:t});r([].concat(Object(E.a)(c.slice(0,x)),[n],Object(E.a)(c.slice(x+1))))},v=function(){var e=Object(H.a)(G.a.mark((function e(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r([].concat(Object(E.a)(c.slice(0,x)),Object(E.a)(c.slice(x+1))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(H.a)(G.a.mark((function e(t){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.includes(t)){e.next=4;break}throw new Error("Category already exists");case 4:m(t),s((function(e){return[].concat(Object(E.a)(e),[t])})),l(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(q.jsxs)(Q,{className:"".concat(d),children:[Object(q.jsx)(R,{children:O}),j?Object(q.jsx)(X,{children:Object(q.jsx)(P,{onSubmit:C})}):Object(q.jsx)(X,{children:Object(q.jsxs)("select",{name:"category",onChange:function(e){var t=e.target.value;t===p?l(!0):m(t)},defaultValue:e.category,children:[i.map((function(e){return Object(q.jsx)("option",{value:e,children:e},e)})),Object(q.jsx)("option",{value:p,children:"Create a new category..."},p)]})}),Object(q.jsx)(U,{onClick:v,children:"\ud83d\uddd1"})]})},Z=m.c.div(b||(b=Object(v.a)(["\n  margin: 10px auto;\n  max-width: 200px;\n  flex-flow: column;\n  align-items: center;\n"]))),$=m.c.ul(j||(j=Object(v.a)(["\n  width: 100%;\n"]))),ee=m.c.div(l||(l=Object(v.a)(["\n  margin: 10px 0;\n"]))),te=m.c.select(d||(d=Object(v.a)(["\n  display: block;\n  margin: 0 auto;\n"]))),ne=function(){var e=Object(h.e)(D),t=Object(h.e)(N),n=Object(h.d)(B),c=Object(w.a)(n,2),r=c[0],a=c[1];return Object(q.jsxs)(Z,{children:[Object(q.jsx)(W,{}),Object(q.jsx)(ee,{children:Object(q.jsxs)(te,{value:r,onChange:function(e){var t=e.target.value;a(t)},children:[Object(q.jsx)("option",{value:"ALL",children:"All"},"ALL"),t.map((function(e){return Object(q.jsx)("option",{value:e,children:e},e)}))]})}),Object(q.jsx)($,{children:e.map((function(e){return Object(q.jsx)(Y,Object(y.a)({},e),e.id)}))})]})},ce=Object(m.b)(O||(O=Object(v.a)(["\n\nbody {\n  background-color: ",";\n  color:","\n}\n"])),(function(e){return e.theme.bgColor}),(function(e){return e.theme.darkTextColor}));var re=function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(ce,{}),Object(q.jsx)(ne,{})]})};p.a.render(Object(q.jsx)(f.a.StrictMode,{children:Object(q.jsx)(h.a,{children:Object(q.jsx)(m.a,{theme:{bgColor:"rgba(189, 195, 199, 0.5)",secondAccentColor:"rgba(241, 196, 15, 0.5)",secondBgColor:"white",primaryColor:"#e67e22",whiteColor:"white",darkTextColor:"#2c3e50",accentColor:"#e74c3c"},children:Object(q.jsx)(re,{})})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.d295fcd1.chunk.js.map